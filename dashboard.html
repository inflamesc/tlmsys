<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="icon" type="image/png" href="assets/img/favicon.ico">
    <meta httpe-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>Dashboard For Racing Telemetry System</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
      <meta name="viewport" content="width=device-width"/>
      <link rel="stylesheet" href="assets/css/bootstrap.min.css"/>
      <link rel="stylesheet" href="assets/css/animate.min.css"/>
      <link rel="stylesheet" href="assets/css/dashboard.css?v=1.4.0"/>
      <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,700,300" type="text/css">
      <link rel="stylesheet" href="assets/css/pe-icon-7-stroke.css"/>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src= "http://www.chartjs.org/samples/latest/utils.js"></script>
     <script src="http://www.chartjs.org/dist/2.7.2/Chart.bundle.js"></script>


  </head>
  <body>
    <div class="wrapper">
      <div class="sidebar" data-image="assets/img/sidebar-2.jpg">
        <div class="sidebar-wrapper">
          <div class="logo">
            <a href="dashboard.html" class="simple-text">
              Race Dashboard
            </a>
          </div>
          <ul class="nav">
            <li class="active">
              <a href="dashboard.html">
                <i class="pe-7s-map"></i>
                <p>Overview</p>
              </a>
            </li>
            <li>
              <a href="history.html">
                <i class="pe-7s-graph1"></i>
                <p>History</p>
              </a>
            </li>
            <li>
              <a href="laptimes.html">
                <i class="pe-7s-timer"></i>
                <p>Lap Times</p>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="main-panel">
      <nav class="navbar navbar-default navbar-fixed">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
              <span class="sr-only"> Toggle Navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Overview</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left"></ul>
          </div>
        </div>
      </nav>
      <div class="content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-4">
              <div class="card">

                <div class="header">
                  <h4 class="title">Track Player</h4>
                  <p class="category">Player Position</p>
                  <hr>
                </div>
                <div class="content">
                  <div id="chartPreferences" class="ct-chart ct-perfect-fourth">
                    <svg margin= 5px 0px 5px, width= 100%, height= 100%; viewBox="-100 20 600 200" xmlns="http://www.w3.org/2000/svg" style="touch-action: none;">
                    <path id="path" class="path" d="m 175.75893,42.244047 221.49405,-6.047619 c 39.48846,2.77339 25.65226,30.732378 15.49701,36.663691 l -54.80655,21.922618 c -21.4949,6.064113 -43.7676,8.222723 -67.27976,4.157739 -16.04175,-3.358636 -31.80143,-8.596877 -40.06547,14.363094 3.31439,35.1477 -47.60019,35.74391 -78.99702,52.16071 -18.07792,5.82194 -34.13181,7.78857 -31.37203,-26.08035 2.13269,-16.44191 10.46829,-26.72892 34.39584,-21.54465 11.80594,5.38516 23.21873,6.44577 34.01785,0.75596 11.34035,-7.24827 30.45369,-26.753365 -3.77976,-32.883931 l -70.68154,4.157737 c -31.72748,-2.852277 -28.37052,19.060944 -26.83631,39.687504 3.97531,52.30151 -25.845668,46.39829 -57.452383,37.41964 C 26.194374,159.37589 9.8627977,140.14364 5.2916666,102.34226 8.760189,77.406893 8.6418973,50.98266 63.877975,47.535713 Z"></path>
                    <g id="drag" data-svg-origin="0 0"  style="transform-origin: 0px 0px 0px; cursor: move; touch-action: none; user-select: none; z-index: 1002;">
                    <circle class="oval" cx="0" cy="0" r="10"></circle>

                    </g>
                  </svg>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-8">
              <div class="card">
                <div class="header">
                  <h4 class="title">Circuit GPS</h4>
                    <p class="category">Track Performance</p>
                    <hr>
                </div>
                <div class="content">
                  <div id="chartHours" class="ct-chart"></div>
                </div>
              </div>
            </div>
          </div>


        <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="header">
                  <h4 class="title">Speed</h4>
                  <hr>
                </div>
                <div class="content">
                    <canvas id="canvas" height="200" width="750"></canvas>
                    <script>
		                  var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                		var config = {
                			type: 'line',
                			data: {
                				labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                				datasets: [{
                					label: 'My First dataset',
                					backgroundColor: window.chartColors.red,
                					borderColor: window.chartColors.red,
                					data: [
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor()
                					],
                					fill: false,
                				}, {
                					label: 'My Second dataset',
                					fill: false,
                					backgroundColor: window.chartColors.blue,
                					borderColor: window.chartColors.blue,
                					data: [
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor(),
                						randomScalingFactor()
                					],
                				}]
                			},
                			options: {
                				responsive: true,
                				tooltips: {
                					mode: 'index',
                					intersect: false,
                				},
                				hover: {
                					mode: 'nearest',
                					intersect: true
                				},
                				scales: {
                					xAxes: [{
                						display: true,
                						scaleLabel: {
                							display: true,
                						}
                					}],
                					yAxes: [{
                						display: true,
                						scaleLabel: {
                							display: true,
                							labelString: 'Value'
                						}
                					}]
                				}
                			}
                		};
                		document.getElementById('randomizeData').addEventListener('click', function() {
                			config.data.datasets.forEach(function(dataset) {
                				dataset.data = dataset.data.map(function() {
                					return randomScalingFactor();
                				});

                			});

                			window.myLine.update();
                		});

                		var colorNames = Object.keys(window.chartColors);
                		document.getElementById('addDataset').addEventListener('click', function() {
                			var colorName = colorNames[config.data.datasets.length % colorNames.length];
                			var newColor = window.chartColors[colorName];
                			var newDataset = {
                				label: 'Dataset ' + config.data.datasets.length,
                				backgroundColor: newColor,
                				borderColor: newColor,
                				data: [],
                				fill: false
                			};

                			for (var index = 0; index < config.data.labels.length; ++index) {
                				newDataset.data.push(randomScalingFactor());
                			}

                			config.data.datasets.push(newDataset);
                			window.myLine.update();
                		});

                		document.getElementById('addData').addEventListener('click', function() {
                			if (config.data.datasets.length > 0) {
                				var month = MONTHS[config.data.labels.length % MONTHS.length];
                				config.data.labels.push(month);

                				config.data.datasets.forEach(function(dataset) {
                					dataset.data.push(randomScalingFactor());
                				});

                				window.myLine.update();
                			}
                		});

                		document.getElementById('removeDataset').addEventListener('click', function() {
                			config.data.datasets.splice(0, 1);
                			window.myLine.update();
                		});

                		document.getElementById('removeData').addEventListener('click', function() {
                			config.data.labels.splice(-1, 1); // remove the label first

                			config.data.datasets.forEach(function(dataset) {
                				dataset.data.pop();
                			});

                			window.myLine.update();
                		});
                	</script>
                </div>
              </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="header">
                  <h4 class="title">RPM</h4>
                  <hr>
                </div>
                <div class="content">
                  <canvas id="myChart" height="200" width="750"></canvas>
                  <script>
                    var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                  var config = {
                    type: 'line',
                    data: {
                      labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                      datasets: [{
                        label: 'My First dataset',
                        backgroundColor: window.chartColors.red,
                        borderColor: window.chartColors.red,
                        data: [
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor()
                        ],
                        fill: false,
                      }, {
                        label: 'My Second dataset',
                        fill: false,
                        backgroundColor: window.chartColors.blue,
                        borderColor: window.chartColors.blue,
                        data: [
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor()
                        ],
                      }]
                    },
                    options: {
                      responsive: true,
                      tooltips: {
                        mode: 'index',
                        intersect: false,
                      },
                      hover: {
                        mode: 'nearest',
                        intersect: true
                      },
                      scales: {
                        xAxes: [{
                          display: true,
                          scaleLabel: {
                            display: true,
                          }
                        }],
                        yAxes: [{
                          display: true,
                          scaleLabel: {
                            display: true,
                            labelString: 'Value'
                          }
                        }]
                      }
                    }
                  };

                  document.getElementById('randomizeData').addEventListener('click', function() {
                    config.data.datasets.forEach(function(dataset) {
                      dataset.data = dataset.data.map(function() {
                        return randomScalingFactor();
                      });

                    });

                    window.myLine.update();
                  });

                  var colorNames = Object.keys(window.chartColors);
                  document.getElementById('addDataset').addEventListener('click', function() {
                    var colorName = colorNames[config.data.datasets.length % colorNames.length];
                    var newColor = window.chartColors[colorName];
                    var newDataset = {
                      label: 'Dataset ' + config.data.datasets.length,
                      backgroundColor: newColor,
                      borderColor: newColor,
                      data: [],
                      fill: false
                    };

                    for (var index = 0; index < config.data.labels.length; ++index) {
                      newDataset.data.push(randomScalingFactor());
                    }

                    config.data.datasets.push(newDataset);
                    window.myLine.update();
                  });

                  document.getElementById('addData').addEventListener('click', function() {
                    if (config.data.datasets.length > 0) {
                      var month = MONTHS[config.data.labels.length % MONTHS.length];
                      config.data.labels.push(month);

                      config.data.datasets.forEach(function(dataset) {
                        dataset.data.push(randomScalingFactor());
                      });

                      window.myLine.update();
                    }
                  });

                  document.getElementById('removeDataset').addEventListener('click', function() {
                    config.data.datasets.splice(0, 1);
                    window.myLine.update();
                  });

                  document.getElementById('removeData').addEventListener('click', function() {
                    config.data.labels.splice(-1, 1); // remove the label first

                    config.data.datasets.forEach(function(dataset) {
                      dataset.data.pop();
                    });

                    window.myLine.update();
                  });
                </script>
              	</div>
              </div>
            </div>
          </div>
        <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="header">
                  <h4 class="title">Engine</h4>
                  <hr>
                </div>
                <div class="content">
                  <canvas id="myCanvas" height="200" width="750"></canvas>
                  <script>
                    var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                  var config = {
                    type: 'line',
                    data: {
                      labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                      datasets: [{
                        label: 'My First dataset',
                        backgroundColor: window.chartColors.red,
                        borderColor: window.chartColors.red,
                        data: [
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor()
                        ],
                        fill: false,
                      }, {
                        label: 'My Second dataset',
                        fill: false,
                        backgroundColor: window.chartColors.blue,
                        borderColor: window.chartColors.blue,
                        data: [
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor(),
                          randomScalingFactor()
                        ],
                      }]
                    },
                    options: {
                      responsive: true,
                      tooltips: {
                        mode: 'index',
                        intersect: false,
                      },
                      hover: {
                        mode: 'nearest',
                        intersect: true
                      },
                      scales: {
                        xAxes: [{
                          display: true,
                          scaleLabel: {
                            display: true,
                          }
                        }],
                        yAxes: [{
                          display: true,
                          scaleLabel: {
                            display: true,
                            labelString: 'Value'
                          }
                        }]
                      }
                    }
                  };

                  window.onload = function() {
                    var cty = document.getElementById('myChart').getContext('2d');
                    window.myLine = new Chart(cty, config);
                    var ctx = document.getElementById('canvas').getContext('2d');
                    window.myLine = new Chart(ctx, config);
                    var ctz = document.getElementById('myCanvas').getContext('2d');
                    window.myLine = new Chart(ctz, config);
                  };

                  document.getElementById('randomizeData').addEventListener('click', function() {
                    config.data.datasets.forEach(function(dataset) {
                      dataset.data = dataset.data.map(function() {
                        return randomScalingFactor();
                      });

                    });

                    window.myLine.update();
                  });

                  var colorNames = Object.keys(window.chartColors);
                  document.getElementById('addDataset').addEventListener('click', function() {
                    var colorName = colorNames[config.data.datasets.length % colorNames.length];
                    var newColor = window.chartColors[colorName];
                    var newDataset = {
                      label: 'Dataset ' + config.data.datasets.length,
                      backgroundColor: newColor,
                      borderColor: newColor,
                      data: [],
                      fill: false
                    };

                    for (var index = 0; index < config.data.labels.length; ++index) {
                      newDataset.data.push(randomScalingFactor());
                    }

                    config.data.datasets.push(newDataset);
                    window.myLine.update();
                  });

                  document.getElementById('addData').addEventListener('click', function() {
                    if (config.data.datasets.length > 0) {
                      var month = MONTHS[config.data.labels.length % MONTHS.length];
                      config.data.labels.push(month);

                      config.data.datasets.forEach(function(dataset) {
                        dataset.data.push(randomScalingFactor());
                      });

                      window.myLine.update();
                    }
                  });

                  document.getElementById('removeDataset').addEventListener('click', function() {
                    config.data.datasets.splice(0, 1);
                    window.myLine.update();
                  });

                  document.getElementById('removeData').addEventListener('click', function() {
                    config.data.labels.splice(-1, 1); // remove the label first

                    config.data.datasets.forEach(function(dataset) {
                      dataset.data.pop();
                    });

                    window.myLine.update();
                  });
                </script>
                </div>
              </div>
            </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <nav class="pull-left">
            <ul>
              <li>
                <a href="dashboard.html">
                  Home
                </a>
              </li>
              <li>
                <a href="history.html">
                  Histroy
                </a>
              </li>
              <li>
                <a href="laptimes.html">
                  Lap Times
                </a>
              </li>
            </ul>
          </nav>

        </div>
      </footer>
      </div>

    </div>
    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/utils/Draggable.min.js"></script>
    <script>
    var DEG = 180 / Math.PI;

    var drag = document.querySelector("#drag");
    var path = document.querySelector("#path");

    var pathLength = path.getTotalLength() || 0;
    var startPoint = path.getPointAtLength(0);
    var startAngle = getRotation(startPoint, path.getPointAtLength(0.1));

    TweenLite.set(drag, {
      transformOrigin: "center",
      rotation: startAngle + "_rad",
      xPercent: 0,
      yPercent: 0,
      x: startPoint.x,
      y: startPoint.y
    });

    var draggable = new Draggable(drag, {
      liveSnap: {
        points: pointModifier
      }
    });

    TweenLite.set(".container", {
      autoAlpha: 1
    });

    function pointModifier(point) {

      var p = closestPoint(path, pathLength, point);

      TweenLite.set(drag, {
        rotation: p.rotation
      });

      return p.point;
    }

    function closestPoint(pathNode, pathLength, point) {

      var precision = 8,
          best,
          bestLength,
          bestDistance = Infinity;

      // linear scan for coarse approximation
      for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {if (window.CP.shouldStopExecution(1)){break;}
        if ((scanDistance = distance2(scan = pathNode.getPointAtLength(scanLength))) < bestDistance) {
          best = scan, bestLength = scanLength, bestDistance = scanDistance;
        }
      }
    window.CP.exitedLoop(1);


      // binary search for precise estimate
      precision /= 2;
      while (precision > 0.5) {if (window.CP.shouldStopExecution(2)){break;}
        var before,
            after,
            beforeLength,
            afterLength,
            beforeDistance,
            afterDistance;
        if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = distance2(before = pathNode.getPointAtLength(beforeLength))) < bestDistance) {
          best = before, bestLength = beforeLength, bestDistance = beforeDistance;
        } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = distance2(after = pathNode.getPointAtLength(afterLength))) < bestDistance) {
          best = after, bestLength = afterLength, bestDistance = afterDistance;
        } else {
          precision /= 2;
        }
      }
    window.CP.exitedLoop(2);


      var len2 = bestLength + (bestLength === pathLength ? -0.1 : 0.1);
      var rotation = getRotation(best, pathNode.getPointAtLength(len2));

      return {
        point: best,
        rotation: rotation * DEG,
        // distance: Math.sqrt(bestDistance),
      };

      function distance2(p) {
        var dx = p.x - point.x,
            dy = p.y - point.y;
        return dx * dx + dy * dy;
      }
    }

    function getRotation(p1, p2) {
      var dx = p2.x - p1.x;
      var dy = p2.y - p1.y;
      return Math.atan2(dy, dx);
    }



    </script>
  </body>
  <script src="assets/js/jquery.3.2.1.min.js" type="text/javascript"></script>
  <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="assets/js/dashboard.js?v=1.4.0"></script>
  <script src="assets/js/main.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      demo.initChartist();
      $.notify({
        icon:'pe-7s-gift',
        message: " Welcome to <b> Dashboard For Racing Telemetry System"
      },{
        type:'info',
        timer:4000
      });
    });
  </script>
</html>
